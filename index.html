<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanzApp - Control de Finanzas Personales</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="container">
        <!-- Auth Screen -->
        <div id="authScreen" class="auth-screen">
            <div class="auth-card">
                <div class="auth-logo">
                    <h1>üí∞ FinanzApp</h1>
                    <p>Tu control financiero personal</p>
                </div>
                
                <div id="loginForm">
                    <div class="form-group">
                        <label>Correo electr√≥nico</label>
                        <input type="email" id="loginEmail" placeholder="tu@email.com">
                    </div>
                    <div class="form-group">
                        <label>Contrase√±a</label>
                        <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button class="btn btn-primary" onclick="login()">Iniciar Sesi√≥n</button>
                    <button class="btn btn-google" onclick="loginWithGoogle()">
                        <span>üîç</span> Continuar con Google
                    </button>
                    <div class="auth-toggle">
                        <p>¬øNo tienes cuenta? <a href="#" onclick="toggleAuthMode()">Reg√≠strate</a></p>
                    </div>
                </div>
                
                <div id="registerForm" style="display: none;">
                    <div class="form-group">
                        <label>Nombre completo</label>
                        <input type="text" id="registerName" placeholder="Tu nombre">
                    </div>
                    <div class="form-group">
                        <label>Correo electr√≥nico</label>
                        <input type="email" id="registerEmail" placeholder="tu@email.com">
                    </div>
                    <div class="form-group">
                        <label>Contrase√±a</label>
                        <input type="password" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button class="btn btn-primary" onclick="register()">Crear Cuenta</button>
                    <button class="btn btn-google" onclick="loginWithGoogle()">
                        <span>üîç</span> Continuar con Google
                    </button>
                    <div class="auth-toggle">
                        <p>¬øYa tienes cuenta? <a href="#" onclick="toggleAuthMode()">Inicia sesi√≥n</a></p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main App Screen -->
        <div id="appScreen" class="app-screen">
            <div class="app-header">
                <h2 id="appTitle">Dashboard</h2>
                <p class="user-welcome">Bienvenido, <span id="userName">Usuario</span></p>
                <button class="logout-btn" onclick="logout()">Salir</button>
            </div>
            
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTab('dashboard')">üìä Dashboard</button>
                <button class="nav-tab" onclick="switchTab('transactions')">üí≥ Movimientos</button>
                <button class="nav-tab" onclick="switchTab('calendar')">üìÖ Calendario</button>
                <button class="nav-tab" onclick="switchTab('commitments')">üìã Compromisos</button>
                <button class="nav-tab" onclick="switchTab('reports')">üìà Reportes</button>
            </div>
            
            <!-- Dashboard Tab -->
            <div id="dashboardTab" class="tab-content active">
                <div class="dashboard-summary">
                    <div class="balance-card">
                        <p class="balance-label">Balance Disponible</p>
                        <div class="balance-amount" id="currentBalance">$0</div>
                    </div>
                    <div class="summary-stats">
                        <div class="stat-item">
                            <div class="stat-amount income" id="totalIncome">$0</div>
                            <div class="stat-label">Ingresos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-amount expense" id="totalExpenses">$0</div>
                            <div class="stat-label">Gastos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-amount savings" id="totalSavings">$0</div>
                            <div class="stat-label">Ahorros</div>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-action income" onclick="showAddIncomeModal()">
                        <div class="icon">üí∞</div>
                        <div>Agregar Ingreso</div>
                    </div>
                    <div class="quick-action expense" onclick="showAddExpenseModal()">
                        <div class="icon">üí∏</div>
                        <div>Registrar Gasto</div>
                    </div>
                    <div class="quick-action savings" onclick="showAddSavingsModal()">
                        <div class="icon">üè¶</div>
                        <div>Establecer Ahorro</div>
                    </div>
                    <div class="quick-action commitment" onclick="switchTab('commitments')">
                        <div class="icon">üìã</div>
                        <div>Ver Compromisos</div>
                    </div>
                </div>
                
                <div class="transaction-list" id="recentTransactions">
                    <div style="padding: 1rem; text-align: center; color: #6b7280;">
                        <p>No hay transacciones recientes</p>
                    </div>
                </div>
            </div>
            
            <!-- Transactions Tab -->
            <div id="transactionsTab" class="tab-content">
                <div class="form-card">
                    <h3>Registrar Nueva Transacci√≥n</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tipo</label>
                            <select id="transactionType">
                                <option value="income">Ingreso</option>
                                <option value="expense">Gasto</option>
                                <option value="savings">Ahorro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Monto</label>
                            <input type="number" id="transactionAmount" placeholder="0" step="0.01">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Descripci√≥n</label>
                        <input type="text" id="transactionDescription" placeholder="Descripci√≥n de la transacci√≥n">
                    </div>
                    <div class="form-group">
                        <label>Categor√≠a</label>
                        <select id="transactionCategory" onchange="toggleNewCategoryInput('transactionCategory', 'newCategoryContainer')">
                            <!-- Categories will be populated dynamically -->
                        </select>
                        <div id="newCategoryContainer" class="category-input-container">
                            <input type="text" id="newTransactionCategory" placeholder="Nombre de la nueva categor√≠a">
                            <button type="button" class="btn-small btn-success" onclick="addNewCategory('transactionCategory', 'newTransactionCategory', 'newCategoryContainer')">‚úì</button>
                            <button type="button" class="btn-small btn-secondary" onclick="cancelNewCategory('transactionCategory', 'newCategoryContainer')">‚úï</button>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="addTransaction()">Agregar Transacci√≥n</button>
                </div>
                
                <div class="transaction-list" id="allTransactions">
                    <div style="padding: 1rem; text-align: center; color: #6b7280;">
                        <p>No hay transacciones registradas</p>
                    </div>
                </div>
            </div>
            
            <!-- Calendar Tab -->
            <div id="calendarTab" class="tab-content">
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="calendar-nav" onclick="changeMonth(-1)">‚Äπ</button>
                        <h3 id="currentMonth">Enero 2024</h3>
                        <button class="calendar-nav" onclick="changeMonth(1)">‚Ä∫</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar will be generated by JavaScript -->
                    </div>
                </div>
                
                <div id="dayDetails" class="transaction-list" style="display: none;">
                    <div style="padding: 1rem; background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                        <h4 id="selectedDate">Transacciones del d√≠a</h4>
                    </div>
                    <div id="dayTransactions">
                        <!-- Day transactions will be shown here -->
                    </div>
                </div>
            </div>
            
            <!-- Commitments Tab -->
            <div id="commitmentsTab" class="tab-content">
                <div class="form-card">
                    <h3>Crear Nuevo Compromiso</h3>
                    <div class="form-group">
                        <label>Nombre del compromiso</label>
                        <input type="text" id="commitmentName" placeholder="Ej: Renta, Mercado, Servicios">
                    </div>
                    <button class="btn btn-purple" onclick="addCommitment()">Crear Compromiso</button>
                </div>
                
                <div class="commitments-grid" id="commitmentsGrid">
                    <div class="commitment-card add-commitment" onclick="document.getElementById('commitmentName').focus()">
                        <div class="icon">‚ûï</div>
                        <div>Agregar Compromiso</div>
                    </div>
                </div>
            </div>
            
            <!-- Reports Tab -->
            <div id="reportsTab" class="tab-content">
                <div class="report-card">
                    <div class="month-selector">
                        <button class="month-nav" onclick="changeReportMonth(-1)">‚Äπ</button>
                        <h3 id="reportMonth">Enero 2024</h3>
                        <button class="month-nav" onclick="changeReportMonth(1)">‚Ä∫</button>
                    </div>
                    
                    <div class="summary-stats">
                        <div class="stat-item">
                            <div class="stat-amount income" id="reportIncome">$0</div>
                            <div class="stat-label">Ingresos del mes</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-amount expense" id="reportExpenses">$0</div>
                            <div class="stat-label">Gastos del mes</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-amount savings" id="reportSavings">$0</div>
                            <div class="stat-label">Ahorros del mes</div>
                        </div>
                    </div>
                </div>
                
                <div class="report-card">
                    <h3>Gastos por Categor√≠a</h3>
                    <div id="categoryBreakdown">
                        <!-- Category breakdown will be shown here -->
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem;">
                    <button class="btn btn-primary" style="flex: 1;" onclick="exportToPDF()">üìÑ Exportar PDF</button>
                    <button class="btn btn-success" style="flex: 1;" onclick="exportToExcel()">üìä Exportar Excel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="incomeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Agregar Ingreso</h3>
                <button class="modal-close" onclick="closeModal('incomeModal')">‚úï</button>
            </div>
            <div class="form-group">
                <label>Monto</label>
                <input type="number" id="incomeAmount" placeholder="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Descripci√≥n</label>
                <input type="text" id="incomeDescription" placeholder="Descripci√≥n del ingreso">
            </div>
            <div class="form-group">
                <label>Frecuencia</label>
                <select id="incomeFrequency">
                    <option value="unico">√önico</option>
                    <option value="semanal">Semanal</option>
                    <option value="mensual">Mensual</option>
                </select>
            </div>
            <button class="btn btn-success" onclick="addIncome()">Agregar Ingreso</button>
        </div>
    </div>
    
    <div id="expenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Registrar Gasto</h3>
                <button class="modal-close" onclick="closeModal('expenseModal')">‚úï</button>
            </div>
            <div class="form-group">
                <label>Monto</label>
                <input type="number" id="expenseAmount" placeholder="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Descripci√≥n</label>
                <input type="text" id="expenseDescription" placeholder="Descripci√≥n del gasto">
            </div>
            <div class="form-group">
                <label>Categor√≠a</label>
                <select id="expenseCategory" onchange="toggleNewCategoryInput('expenseCategory', 'newExpenseCategoryContainer')">
                    <!-- Categories will be populated dynamically -->
                </select>
                <div id="newExpenseCategoryContainer" class="category-input-container">
                    <input type="text" id="newExpenseCategory" placeholder="Nombre de la nueva categor√≠a">
                    <button type="button" class="btn-small btn-success" onclick="addNewCategory('expenseCategory', 'newExpenseCategory', 'newExpenseCategoryContainer')">‚úì</button>
                    <button type="button" class="btn-small btn-secondary" onclick="cancelNewCategory('expenseCategory', 'newExpenseCategoryContainer')">‚úï</button>
                </div>
            </div>
            <button class="btn btn-danger" onclick="addExpense()">Registrar Gasto</button>
        </div>
    </div>
    
    <div id="savingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Establecer Ahorro</h3>
                <button class="modal-close" onclick="closeModal('savingsModal')">‚úï</button>
            </div>
            <div class="form-group">
                <label>Monto a ahorrar</label>
                <input type="number" id="savingsAmount" placeholder="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Meta de ahorro</label>
                <input type="text" id="savingsGoal" placeholder="Para qu√© est√°s ahorrando">
            </div>
            <button class="btn btn-warning" onclick="addSavings()">Establecer Ahorro</button>
        </div>
    </div>
    
    <div id="commitmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="commitmentModalTitle">Agregar Gasto - Compromiso</h3>
                <button class="modal-close" onclick="closeModal('commitmentModal')">‚úï</button>
            </div>
            <div class="form-group">
                <label>Monto</label>
                <input type="number" id="commitmentAmount" placeholder="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Descripci√≥n</label>
                <input type="text" id="commitmentDescription" placeholder="Descripci√≥n del gasto">
            </div>
            <button class="btn btn-purple" onclick="addCommitmentExpense()">Agregar Gasto</button>
        </div>
    </div>

    <script src="static/main.js"></script>
</body>
</html>